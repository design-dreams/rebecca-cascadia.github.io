function rotate(t,s){t.css({"-webkit-transform":"rotate("+s+"deg)","-moz-transform":"rotate("+s+"deg)","-ms-transform":"rotate("+s+"deg)","-o-transform":"rotate("+s+"deg)",transform:"rotate("+s+"deg)",zoom:1})}function progressBarUpdate(t,s){var i=180,a=0,e=parseInt($(".pie").attr("data-angle")),n=t/s*360;n<=180?i=n:a=n-180,180<n&&e<180?($(".slice1, .slice2").css({"transition-duration":"0.15s","-webkit-transition-duration":"0.15s"}),$(".slice1").css({"transition-delay":"0s","-webkit-transition-delay":"0s"}),$(".slice2").css({"transition-delay":"0.15s","-webkit-transition-delay":"0.15s"})):n<180&&180<e?($(".slice1, .slice2").css({"transition-duration":"0.15s","-webkit-transition-duration":"0.15s"}),$(".slice2").css({"transition-delay":"0s","-webkit-transition-delay":"0s"}),$(".slice1").css({"transition-delay":"0.15s","-webkit-transition-delay":"0.15s"})):$(".slice1, .slice2").css({"transition-delay":"0s","-webkit-transition-delay":"0s","transition-duration":"0.3s","-webkit-transition-duration":"0.3s"}),$(".pie").attr("data-angle",n),$(".pie").attr("data-x",t),rotate($(".slice1"),i),rotate($(".slice2"),a),$(".status").html(t+" of "+s)}$(document).ready(function(){progressBarUpdate(0,360),$(".pie").click(function(t){var s,i,a,e,n=t.clientX-$(this).offset().left,r=t.clientY-$(this).offset().top,o=$(this).width()/2,d=$(this).height()/2,c=(s=90,i=r-d,a=n-o,e=Math.atan2(i,a),e*=180/Math.PI,void 0!==s&&(e+=s),e<0&&(e=360+e),e);$(".debug").text(n+" "+r+" "+o+" "+d+" DEG: "+c),progressBarUpdate(parseInt(c),360)})});